<?xml version="1.0" encoding="UTF-8"?>
<dmn:definitions xmlns:dmn="http://www.omg.org/spec/DMN/20180521/MODEL/" xmlns="https://kiegroup.org/dmn/_33597A81-C1CC-4AC5-A8C7-368CFC1B1656" xmlns:feel="http://www.omg.org/spec/DMN/20180521/FEEL/" xmlns:kie="http://www.drools.org/kie/dmn/1.2" xmlns:dmndi="http://www.omg.org/spec/DMN/20180521/DMNDI/" xmlns:di="http://www.omg.org/spec/DMN/20180521/DI/" xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/" xmlns:included1="https://kiegroup.org/dmn/_2844C65B-2728-48DA-80D0-7F57950C921D" xmlns:included2="https://kiegroup.org/dmn/_A8B013F2-B746-4574-A64F-A4F1C6DD8D49" id="_DB729B52-9241-449A-AAC2-ABEADAB9404B" name="BeoordelenVaccinaties" typeLanguage="http://www.omg.org/spec/DMN/20180521/FEEL/" namespace="https://kiegroup.org/dmn/_33597A81-C1CC-4AC5-A8C7-368CFC1B1656">
  <dmn:extensionElements/>
  <dmn:import id="_4ED6AF75-08E0-494F-8567-4228B02B8EE2" name="bv" namespace="https://kiegroup.org/dmn/_2844C65B-2728-48DA-80D0-7F57950C921D" locationURI="bv_BeoordelenVaccinatie.dmn" importType="http://www.omg.org/spec/DMN/20180521/MODEL/"/>
  <dmn:import id="_CAD64AEE-003A-4CCE-B65C-06D5C9C09A0C" name="dt" namespace="https://kiegroup.org/dmn/_A8B013F2-B746-4574-A64F-A4F1C6DD8D49" locationURI="dt_datatypes.dmn" importType="http://www.omg.org/spec/DMN/20180521/MODEL/"/>
  <dmn:businessKnowledgeModel id="_F10031CE-DAF0-490B-9420-5AB04E9E5268" name="BeoordelenVaccinaties">
    <dmn:extensionElements/>
    <dmn:variable id="_7A7C458E-0060-4BA8-A273-CDD8C1E89105" name="BeoordelenVaccinaties" typeRef="dt.GevalideerdeVaccinaties"/>
    <dmn:encapsulatedLogic id="_0F798FB6-4239-499B-9D79-5952DA10B2E4" kind="FEEL">
      <dmn:formalParameter id="_CF353374-0DFC-479B-8066-39E08D791178" name="client" typeRef="dt.Client"/>
      <dmn:formalParameter id="_8940489F-24E0-442B-9E27-7EBA15EDBB76" name="vaccinaties" typeRef="dt.Vaccinaties"/>
      <dmn:context id="_F823B1C9-268E-49B8-B2A8-FC31628E1A19">
        <dmn:contextEntry>
          <dmn:variable id="_CC8F0197-722E-481E-82F2-B8A7C21CB608" name="gesorteerd" typeRef="dt.Vaccinaties"/>
          <dmn:literalExpression id="_E9F0A22D-AE84-42C4-B25F-1AAA2EA890B7">
            <dmn:text>sort( list: vaccinaties, precedes: function(x,y) x.uitvoerdatum &gt; y.uitvoerdatum )</dmn:text>
          </dmn:literalExpression>
        </dmn:contextEntry>
        <dmn:contextEntry>
          <dmn:variable id="_7CA9BFC9-81A6-4DFC-918A-2023DC61269B" name="jongste" typeRef="dt.Vaccinatie"/>
          <dmn:literalExpression id="_7D180763-551D-420F-A2D5-21B71A50270D">
            <dmn:text>if count(vaccinaties) = 0 then null else gesorteerd[1]</dmn:text>
          </dmn:literalExpression>
        </dmn:contextEntry>
        <dmn:contextEntry>
          <dmn:variable id="_B91DC6B1-212D-4A21-8891-2AD8D9047791" name="overigen" typeRef="dt.Vaccinaties"/>
          <dmn:literalExpression id="_1626FF40-4442-413D-B055-8C273BC17429">
            <dmn:text>if jongste = null then null else remove(gesorteerd, 1)</dmn:text>
          </dmn:literalExpression>
        </dmn:contextEntry>
        <dmn:contextEntry>
          <dmn:variable id="_646791AD-7BFD-41AD-96C0-A42793F45DC9" name="GevalideerdeOverigen" typeRef="dt.GevalideerdeVaccinaties"/>
          <dmn:literalExpression id="_D3CEBD76-3B05-4A56-9345-512D59BFA422">
            <dmn:text>if jongste = null then null else BeoordelenVaccinaties(client, overigen)</dmn:text>
          </dmn:literalExpression>
        </dmn:contextEntry>
        <dmn:contextEntry>
          <dmn:variable id="_E90B33B4-6415-45E1-BC49-760516A61468" name="gevalideerdeJongste" typeRef="dt.GevalideerdeVaccinatie"/>
          <dmn:literalExpression id="_A5E3C71F-B81F-4831-8683-79BFB07B310C">
            <dmn:text>if jongste = null then null else beoordeelVaccinatie(GevalideerdeOverigen,client,jongste)</dmn:text>
          </dmn:literalExpression>
        </dmn:contextEntry>
        <dmn:contextEntry>
          <dmn:variable id="_A8E45D9C-1B13-49E9-9A51-638A28DBDB15" name="resultaat" typeRef="dt.GevalideerdeVaccinaties"/>
          <dmn:decisionTable id="_EDBE4206-21B2-441E-A8E3-5B0D19FDCA27" hitPolicy="UNIQUE" preferredOrientation="Rule-as-Row">
            <dmn:input id="_C8CB297E-881D-411D-ACF9-21E5830E959E">
              <dmn:inputExpression id="_35255E1D-3EB7-4985-95B4-1B5418257C5A" typeRef="number">
                <dmn:text>count(vaccinaties)</dmn:text>
              </dmn:inputExpression>
            </dmn:input>
            <dmn:output id="_59C99F7A-89CE-43A6-A266-EA470BE3CD54"/>
            <dmn:annotation name="toelichting"/>
            <dmn:rule id="_C3397164-FC04-4F93-9EAC-173E58FBFDD9">
              <dmn:inputEntry id="_462E1470-E2E9-4939-9BDD-ED10FB77B5A5">
                <dmn:text>0</dmn:text>
              </dmn:inputEntry>
              <dmn:outputEntry id="_87424D5E-FCD2-4F83-B30A-39659B879E20">
                <dmn:text>[]</dmn:text>
              </dmn:outputEntry>
              <dmn:annotationEntry>
                <dmn:text/>
              </dmn:annotationEntry>
            </dmn:rule>
            <dmn:rule id="_799596B1-37EF-486A-A6B9-5FE67DFB63EE">
              <dmn:inputEntry id="_65615646-4D66-49C4-A7BA-1AAFFA8722C3">
                <dmn:text>&gt; 0</dmn:text>
              </dmn:inputEntry>
              <dmn:outputEntry id="_E4515998-3DF6-4507-8AD4-9E6E1E2DA8AD">
                <dmn:text>append(GevalideerdeOverigen,gevalideerdeJongste)</dmn:text>
              </dmn:outputEntry>
              <dmn:annotationEntry>
                <dmn:text>recursie</dmn:text>
              </dmn:annotationEntry>
            </dmn:rule>
          </dmn:decisionTable>
        </dmn:contextEntry>
        <dmn:contextEntry>
          <dmn:literalExpression id="_F8B9270C-A8CE-456C-B680-65A658422B97">
            <dmn:text>resultaat</dmn:text>
          </dmn:literalExpression>
        </dmn:contextEntry>
      </dmn:context>
    </dmn:encapsulatedLogic>
    <dmn:knowledgeRequirement id="_CDCC98AE-F4E2-4704-99F9-EAA45B4212CA">
      <dmn:requiredKnowledge href="#_BCC5B098-C209-4197-9971-B45CB3AA3B0D"/>
    </dmn:knowledgeRequirement>
  </dmn:businessKnowledgeModel>
  <dmn:businessKnowledgeModel id="_BCC5B098-C209-4197-9971-B45CB3AA3B0D" name="beoordeelVaccinatie">
    <dmn:extensionElements/>
    <dmn:variable id="_A947D00F-CD36-4307-AEA5-419D978F0E56" name="beoordeelVaccinatie" typeRef="dt.GevalideerdeVaccinatie"/>
    <dmn:encapsulatedLogic id="_44EE0BD9-92A7-4148-B18A-81AEC6E706D0" kind="FEEL">
      <dmn:formalParameter id="_DC7817F6-4B06-4C9F-9823-25C52D1FFB1C" name="eerdere" typeRef="dt.GevalideerdeVaccinaties"/>
      <dmn:formalParameter id="_42FE5DC4-6E54-45AE-921E-210741D897B7" name="client" typeRef="dt.Client"/>
      <dmn:formalParameter id="_8D33945F-B032-4A9D-9E80-B0F373562D4E" name="vaccinatie" typeRef="dt.Vaccinatie"/>
      <dmn:literalExpression id="_16631E06-AD97-4AB2-8753-4E551B1C8F3D">
        <dmn:text>bv.BeoordelenVaccinatieService(eerdere,client,vaccinatie)</dmn:text>
      </dmn:literalExpression>
    </dmn:encapsulatedLogic>
    <dmn:knowledgeRequirement id="_67C4BB67-1B29-48D7-A000-3FC1892ACCF3">
      <dmn:requiredKnowledge href="https://kiegroup.org/dmn/_2844C65B-2728-48DA-80D0-7F57950C921D#_89AB1320-6F3A-4E2B-B00B-0A814F149155"/>
    </dmn:knowledgeRequirement>
  </dmn:businessKnowledgeModel>
  <dmn:decision id="_E69BD631-F155-428D-9A5A-885F90B90649" name="GevalideerdeVaccinaties">
    <dmn:extensionElements/>
    <dmn:variable id="_E1AAE607-077E-40D7-AD81-9C8D56122A8F" name="GevalideerdeVaccinaties" typeRef="dt.GevalideerdeVaccinaties"/>
    <dmn:informationRequirement id="_7C10650E-F819-4D8C-B93D-0D5E0646E706">
      <dmn:requiredInput href="#_DED364CA-BE5C-4DC4-8DD6-65637DA34524"/>
    </dmn:informationRequirement>
    <dmn:informationRequirement id="_DA9EBEFA-EEE3-4288-9DA4-143DD2B3BCC8">
      <dmn:requiredInput href="#_7A8A009E-50B2-4915-A9B0-D801BBAC7B9C"/>
    </dmn:informationRequirement>
    <dmn:knowledgeRequirement id="_E2E8868F-E803-4159-BCC4-B141313B8CE7">
      <dmn:requiredKnowledge href="#_F10031CE-DAF0-490B-9420-5AB04E9E5268"/>
    </dmn:knowledgeRequirement>
    <dmn:literalExpression id="_934AFE61-DD54-47EC-90EB-DCD4B910299B">
      <dmn:text>BeoordelenVaccinaties(client,vaccinaties)</dmn:text>
    </dmn:literalExpression>
  </dmn:decision>
  <dmn:inputData id="_DED364CA-BE5C-4DC4-8DD6-65637DA34524" name="vaccinaties">
    <dmn:extensionElements/>
    <dmn:variable id="_3FFF2D6D-46CC-4E59-B507-D79ED7AED4E9" name="vaccinaties" typeRef="dt.Vaccinaties"/>
  </dmn:inputData>
  <dmn:inputData id="_7A8A009E-50B2-4915-A9B0-D801BBAC7B9C" name="client">
    <dmn:extensionElements/>
    <dmn:variable id="_FA36085F-E2B8-47CF-B2F0-E7AB75FC35F0" name="client" typeRef="dt.Client"/>
  </dmn:inputData>
  <dmndi:DMNDI>
    <dmndi:DMNDiagram id="_BA522B36-BD03-4C28-A253-60D9C6861F0C" name="DRG">
      <di:extension>
        <kie:ComponentsWidthsExtension>
          <kie:ComponentWidths dmnElementRef="_F823B1C9-268E-49B8-B2A8-FC31628E1A19">
            <kie:width>50</kie:width>
            <kie:width>257</kie:width>
            <kie:width>1005</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_E9F0A22D-AE84-42C4-B25F-1AAA2EA890B7">
            <kie:width>1005</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_7D180763-551D-420F-A2D5-21B71A50270D">
            <kie:width>1005</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_1626FF40-4442-413D-B055-8C273BC17429">
            <kie:width>1005</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_D3CEBD76-3B05-4A56-9345-512D59BFA422">
            <kie:width>1005</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_A5E3C71F-B81F-4831-8683-79BFB07B310C">
            <kie:width>1005</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_EDBE4206-21B2-441E-A8E3-5B0D19FDCA27">
            <kie:width>50</kie:width>
            <kie:width>149</kie:width>
            <kie:width>514</kie:width>
            <kie:width>272</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_F8B9270C-A8CE-456C-B680-65A658422B97">
            <kie:width>1005</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_0F798FB6-4239-499B-9D79-5952DA10B2E4">
            <kie:width>50</kie:width>
            <kie:width>1332</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_16631E06-AD97-4AB2-8753-4E551B1C8F3D">
            <kie:width>861</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_44EE0BD9-92A7-4148-B18A-81AEC6E706D0">
            <kie:width>50</kie:width>
            <kie:width>861</kie:width>
          </kie:ComponentWidths>
          <kie:ComponentWidths dmnElementRef="_934AFE61-DD54-47EC-90EB-DCD4B910299B">
            <kie:width>464</kie:width>
          </kie:ComponentWidths>
        </kie:ComponentsWidthsExtension>
      </di:extension>
      <dmndi:DMNShape id="dmnshape-drg-_89AB1320-6F3A-4E2B-B00B-0A814F149155" dmnElementRef="included1:_89AB1320-6F3A-4E2B-B00B-0A814F149155" isCollapsed="false">
        <dmndi:DMNStyle>
          <dmndi:FillColor red="255" green="255" blue="255"/>
          <dmndi:StrokeColor red="0" green="0" blue="0"/>
          <dmndi:FontColor red="0" green="0" blue="0"/>
        </dmndi:DMNStyle>
        <dc:Bounds x="686" y="229" width="268" height="150"/>
        <dmndi:DMNLabel/>
        <dmndi:DMNDecisionServiceDividerLine>
          <di:waypoint x="686" y="284"/>
          <di:waypoint x="954" y="284"/>
        </dmndi:DMNDecisionServiceDividerLine>
      </dmndi:DMNShape>
      <dmndi:DMNShape id="dmnshape-drg-_F10031CE-DAF0-490B-9420-5AB04E9E5268" dmnElementRef="_F10031CE-DAF0-490B-9420-5AB04E9E5268" isCollapsed="false">
        <dmndi:DMNStyle>
          <dmndi:FillColor red="255" green="255" blue="255"/>
          <dmndi:StrokeColor red="0" green="0" blue="0"/>
          <dmndi:FontColor red="0" green="0" blue="0"/>
        </dmndi:DMNStyle>
        <dc:Bounds x="476.1892523364486" y="138" width="187" height="50"/>
        <dmndi:DMNLabel/>
      </dmndi:DMNShape>
      <dmndi:DMNShape id="dmnshape-drg-_BCC5B098-C209-4197-9971-B45CB3AA3B0D" dmnElementRef="_BCC5B098-C209-4197-9971-B45CB3AA3B0D" isCollapsed="false">
        <dmndi:DMNStyle>
          <dmndi:FillColor red="255" green="255" blue="255"/>
          <dmndi:StrokeColor red="0" green="0" blue="0"/>
          <dmndi:FontColor red="0" green="0" blue="0"/>
        </dmndi:DMNStyle>
        <dc:Bounds x="738" y="130" width="162" height="52"/>
        <dmndi:DMNLabel/>
      </dmndi:DMNShape>
      <dmndi:DMNShape id="dmnshape-drg-_E69BD631-F155-428D-9A5A-885F90B90649" dmnElementRef="_E69BD631-F155-428D-9A5A-885F90B90649" isCollapsed="false">
        <dmndi:DMNStyle>
          <dmndi:FillColor red="255" green="255" blue="255"/>
          <dmndi:StrokeColor red="0" green="0" blue="0"/>
          <dmndi:FontColor red="0" green="0" blue="0"/>
        </dmndi:DMNStyle>
        <dc:Bounds x="268" y="133" width="136" height="50"/>
        <dmndi:DMNLabel/>
      </dmndi:DMNShape>
      <dmndi:DMNShape id="dmnshape-drg-_DED364CA-BE5C-4DC4-8DD6-65637DA34524" dmnElementRef="_DED364CA-BE5C-4DC4-8DD6-65637DA34524" isCollapsed="false">
        <dmndi:DMNStyle>
          <dmndi:FillColor red="255" green="255" blue="255"/>
          <dmndi:StrokeColor red="0" green="0" blue="0"/>
          <dmndi:FontColor red="0" green="0" blue="0"/>
        </dmndi:DMNStyle>
        <dc:Bounds x="361" y="278" width="100" height="50"/>
        <dmndi:DMNLabel/>
      </dmndi:DMNShape>
      <dmndi:DMNShape id="dmnshape-drg-_7A8A009E-50B2-4915-A9B0-D801BBAC7B9C" dmnElementRef="_7A8A009E-50B2-4915-A9B0-D801BBAC7B9C" isCollapsed="false">
        <dmndi:DMNStyle>
          <dmndi:FillColor red="255" green="255" blue="255"/>
          <dmndi:StrokeColor red="0" green="0" blue="0"/>
          <dmndi:FontColor red="0" green="0" blue="0"/>
        </dmndi:DMNStyle>
        <dc:Bounds x="209" y="278" width="100" height="50"/>
        <dmndi:DMNLabel/>
      </dmndi:DMNShape>
      <dmndi:DMNEdge id="dmnedge-drg-_CDCC98AE-F4E2-4704-99F9-EAA45B4212CA" dmnElementRef="_CDCC98AE-F4E2-4704-99F9-EAA45B4212CA">
        <di:waypoint x="819" y="156"/>
        <di:waypoint x="569.6892523364486" y="163"/>
      </dmndi:DMNEdge>
      <dmndi:DMNEdge id="dmnedge-drg-_67C4BB67-1B29-48D7-A000-3FC1892ACCF3" dmnElementRef="_67C4BB67-1B29-48D7-A000-3FC1892ACCF3">
        <di:waypoint x="820" y="304"/>
        <di:waypoint x="819" y="156"/>
      </dmndi:DMNEdge>
      <dmndi:DMNEdge id="dmnedge-drg-_7C10650E-F819-4D8C-B93D-0D5E0646E706" dmnElementRef="_7C10650E-F819-4D8C-B93D-0D5E0646E706">
        <di:waypoint x="411" y="303"/>
        <di:waypoint x="336" y="158"/>
      </dmndi:DMNEdge>
      <dmndi:DMNEdge id="dmnedge-drg-_DA9EBEFA-EEE3-4288-9DA4-143DD2B3BCC8" dmnElementRef="_DA9EBEFA-EEE3-4288-9DA4-143DD2B3BCC8">
        <di:waypoint x="259" y="303"/>
        <di:waypoint x="336" y="158"/>
      </dmndi:DMNEdge>
      <dmndi:DMNEdge id="dmnedge-drg-_E2E8868F-E803-4159-BCC4-B141313B8CE7" dmnElementRef="_E2E8868F-E803-4159-BCC4-B141313B8CE7">
        <di:waypoint x="569.6892523364486" y="163"/>
        <di:waypoint x="336" y="158"/>
      </dmndi:DMNEdge>
    </dmndi:DMNDiagram>
  </dmndi:DMNDI>
</dmn:definitions>